#!/usr/bin/env bash

if [ -z "$1" ]; then
    echo "Usage: $0 <ip address>"
    exit
fi

IP="$1"
CONFIG="/etc/cups/printers.conf"

sed -i.bak "s#socket://.*\$#socket://$IP#" $CONFIG || exit 1

systemctl restart cups || exit 1
