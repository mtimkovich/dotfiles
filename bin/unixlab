#!/usr/bin/python2
import requests

url = "http://www.cs.utexas.edu/~mtimkvch/unixlabstatus.cgi"

r = requests.get(url)

if not r:
    print "Error connecting to:", url

stations = r.json()
r.close()

min_station = min([s for s in stations if s["status"] == "up"], key=lambda s: s["load"])

print min_station["host"] + ".cs.utexas.edu"


